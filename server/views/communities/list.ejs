<!DOCTYPE html>
<html>
  <head>
    <% include ./../partial/settings %>
  </head>
  <body>

    <style>
        input:focus{
            outline: none;
        }
    </style>

    <% include ./../partial/header %>

    <div class="container mt-32 mx-auto text-center w-10/12 sm:w-9/12 md:w-8/12 lg:w-1/2 xl:w-5/12">

        <form method="get">

            <select name="option" id="select" class="mr-2">
                <option value="user_name">작성자 이름</option>
                <option value="user_id">작성자 ID</option>
                <option value="title" selected>제목</option>
                <option value="content">내용</option>
            </select>
            
            <input class="px-5 py-4 mr-2 rounded-lg bg-gray-200" type="text" name="search" id="search" placeholder="검색">
            <button><i class="fas fa-search"></i></button>

        </form>

        <table class="table-auto w-full mx-auto my-10">
            <thead>
                <tr>
                    <th class="border w-1/4 px-4 py-2"><span class="text-blue-600">작성자</span></th>
                    <th class="border w-3/4 px-4 py-2"><span class="text-blue-600">제목</span></th>
                </tr>
            </thead>
            <tbody>

                <% if(data.length == 0){ %>

                    <tr>
                        <td colspan="2" class="border px-4 py-2"><span class="text-red-500">NO DATA</span></td>
                    </tr>
                    
                <% }else{ %> 

                    <% data.forEach(element => { %> 
                    <tr>
                        <td class="border px-4 py-2 truncate"><%= element.user_name %></td>
                        <td class="border px-4 py-2 truncate"><a href="/communities/detail/<%= element._id %>" ><%= element.title %></a></td>
                    </tr>
                    <% }) %> 

                <% } %> 
          </tbody>
        </table>

        <div class="flex justify-end">
            <a href="/communities/new"><div class="px-5 py-2 mb-10 text-xl rounded-lg bg-blue-300 hover:bg-blue-400">글쓰기</div></a>
        </div>

    </div>

    <% include ./../partial/footer %> 

  </body>
</html>